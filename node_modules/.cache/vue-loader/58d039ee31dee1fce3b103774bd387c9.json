{"remainingRequest":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!/home/bonifacio/code/service_bundle_frontend/src/components/BookList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bonifacio/code/service_bundle_frontend/src/components/BookList.vue","mtime":1695241256782},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/babel-loader/lib/index.js","mtime":1692833949708},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1692838039149},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js","mtime":1692833961693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBVUERBVEVfU1RBVFVTX0FETUlOX0NBUlRfSVRFTSBmcm9tICdAL2dyYXBocWwvVXBkYXRlU3RhdHVzQWRtaW5DYXJ0SXRlbS5ncWwnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Jvb2tMaXN0JywKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyd1c2VyUm9sZSddKSwKICB9LAogIC8vIG1vdW50ZWQoKXsKICAvLyAgIGNvbnNvbGUubG9nKCdva3NkZicpCiAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0X3JvbGUoKSk7CiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICAvLyBnZXRfcm9sZSgpIHsKICAgIC8vICAgY29uc3QgdXNlclJvbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclJvbGUnKTsKICAgIC8vICAgY29uc29sZS5sb2coJ2FzZGZhc2RmJywgdXNlclJvbGUpOwogICAgLy8gICByZXR1cm4gdXNlclJvbGU7CiAgICAvLyB9LAogICAgYXN5bmMgYWN0aW9uX2l0ZW0oaXRlbSwgYWN0aW9uKSB7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0sIGFjdGlvbikKICAgICAgbGV0IHN0YXR1cyA9IDA7CiAgICAgIGlmIChhY3Rpb24gPT0gJ2NhbmNlbGxlZCcpIHN0YXR1cyA9IDMKICAgICAgaWYgKGFjdGlvbiA9PSAnY29tcGxldGVkJykgc3RhdHVzID0gNAogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBVUERBVEVfU1RBVFVTX0FETUlOX0NBUlRfSVRFTSwKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkOiBwYXJzZUludChpdGVtLmlkKSwKICAgICAgICAgIHN0YXR1czogc3RhdHVzCiAgICAgICAgfQogICAgICB9KQogICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICBhbGVydCgnVGhlIGl0ZW0gaWQ6ICcgKyBpdGVtLmlkICsgJyBoYXMgYmVlbiBjb21wbGV0ZWQuJyApCiAgICAgICAgdGhpcy5yZWxvYWRQYWdlKCkKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgIH0sCiAgICByZWxvYWRQYWdlKCkgewogICAgICAvLyBSZWxvYWQgdGhlIGN1cnJlbnQgcGFnZQogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogIH0KfQpjb25zb2xlLmxvZygnYXNkZicpCg=="},{"version":3,"sources":["BookList.vue"],"names":[],"mappings":";AAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n      <li class=\"nav-item\" role=\"presentation\">\n        <button class=\"nav-link active\" id=\"home-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#home-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"home-tab-pane\" aria-selected=\"true\">All</button>\n      </li>\n      <li class=\"nav-item\" role=\"presentation\">\n        <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#profile-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"profile-tab-pane\" aria-selected=\"false\">Upcoming</button>\n      </li>\n      <li class=\"nav-item\" role=\"presentation\">\n        <button class=\"nav-link\" id=\"contact-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#contact-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"contact-tab-pane\" aria-selected=\"false\">Completed</button>\n      </li>\n      <li class=\"nav-item\" role=\"presentation\">\n        <button class=\"nav-link\" id=\"disabled-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#disabled-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"disabled-tab-pane\" aria-selected=\"false\">Cancelled</button>\n      </li>\n      <li class=\"nav-item\" role=\"presentation\">\n        <button class=\"nav-link\" id=\"mostbook-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#mostbook-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"disabled-tab-pane\" aria-selected=\"false\">Most Booked</button>\n      </li>\n    </ul>\n    <div class=\"tab-content\" id=\"myTabContent\">\n      <div class=\"tab-pane fade show active\" id=\"home-tab-pane\" role=\"tabpanel\" aria-labelledby=\"home-tab\" tabindex=\"0\">\n        <ApolloQuery :query=\"require('../graphql/AdminCartItemAll.gql')\">\n          <template v-slot=\"{ result: { data, loading } }\">\n            <div v-if=\"loading\">Loading...</div>\n            <div v-else>\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th>id</th>\n                    <th>serviceName</th>\n                    <th>userName</th>\n                    <th>userLastname</th>\n                    <th>date</th>\n                    <th>time</th>\n                    <th>status</th>\n                  </tr>\n                </thead>\n                <tbody v-if=\"data && data.adminCartItem\">\n                  <tr v-for=\"item in data.adminCartItem\" :key=\"item.id\">\n                    <td>{{ item.id }}</td>\n                    <td>{{ item.serviceName }}</td>\n                    <td>{{ item.userName }}</td>\n                    <td>{{ item.userLastname }}</td>\n                    <td>{{ item.date }}</td>\n                    <td>{{ item.time }}</td>\n                    <td>{{ item.status }}</td>\n                  </tr>\n                </tbody>\n                <tbody v-else>\n                  <tr><td colspan=\"7\">No record found.</td></tr>\n                </tbody>\n              </table>\n            </div>\n          </template>\n        </ApolloQuery>\n      </div>\n      <div class=\"tab-pane fade\" id=\"profile-tab-pane\" role=\"tabpanel\" aria-labelledby=\"profile-tab\" tabindex=\"0\">\n        <ApolloQuery :query=\"require('../graphql/AdminCartItemUpcoming.gql')\">\n          <template v-slot=\"{ result: { data, loading } }\">\n            <div v-if=\"loading\">Loading...</div>\n            <div v-else>\n              <!-- Check if there are zero records -->\n              <!-- <div v-if=\"data.adminCartItem.length === 0\">\n                <p>No records found.</p>\n              </div> -->\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th>id</th>\n                      <th>serviceName</th>\n                      <th>userName</th>\n                      <th>userLastname</th>\n                      <th>date</th>\n                      <th>time</th>\n                      <th>status</th>\n                      <th\n                      >\n                       <!-- v-if=\"get_role !== 'manager'\" -->\n                      action</th>\n                    </tr>\n                  </thead>\n                  <tbody v-if=\"data && data.adminCartItem\">\n                    <tr v-for=\"item in data.adminCartItem\" :key=\"item.id\">\n                      <td>{{ item.id }}</td>\n                      <td>{{ item.serviceName }}</td>\n                      <td>{{ item.userName }}</td>\n                      <td>{{ item.userLastname }}</td>\n                      <td>{{ item.date }}</td>\n                      <td>{{ item.time }}</td>\n                      <td>{{ item.status }}</td>\n                      <td \n                      >\n                      <!-- v-if=\"this.get_role() != 'manager'\" --> \n                        <span @click=\"action_item(item, 'completed')\" class=\"btn btn-success\">complete</span>\n                        <span @click=\"action_item(item, 'cancelled')\" class=\"btn btn-danger\">cancelled</span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </template>\n        </ApolloQuery>\n      </div>\n      <div class=\"tab-pane fade\" id=\"contact-tab-pane\" role=\"tabpanel\" aria-labelledby=\"contact-tab\" tabindex=\"0\">\n        <ApolloQuery :query=\"require('../graphql/AdminCartItemCompleted.gql')\">\n          <template v-slot=\"{ result: { data, loading } }\">\n            <div v-if=\"loading\">Loading...</div>\n            <div v-else>\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th>id</th>\n                    <th>serviceName</th>\n                    <th>userName</th>\n                    <th>userLastname</th>\n                    <th>date</th>\n                    <th>time</th>\n                    <th>status</th>\n                  </tr>\n                </thead>\n                <tbody  v-if=\"data && data.adminCartItemCountService\">\n                  <template>\n                    <tr>\n                      <td colspan=\"7\">No records found.</td>\n                    </tr>\n                  </template>\n                  <template v-if=\"data && data.adminCartItem\">\n                    <tr v-for=\"item in data.adminCartItem\" :key=\"item.id\">\n                      <td>{{ item.id }}</td>\n                      <td>{{ item.serviceName }}</td>\n                      <td>{{ item.userName }}</td>\n                      <td>{{ item.userLastname }}</td>\n                      <td>{{ item.date }}</td>\n                      <td>{{ item.time }}</td>\n                      <td>{{ item.status }}</td>\n                    </tr>\n                  </template>\n                </tbody>\n              </table>\n            </div>\n          </template>\n        </ApolloQuery>\n      </div>\n      <div class=\"tab-pane fade\" id=\"disabled-tab-pane\" role=\"tabpanel\" aria-labelledby=\"disabled-tab\" tabindex=\"0\">\n        <ApolloQuery :query=\"require('../graphql/AdminCartItemCancelled.gql')\">\n          <template v-slot=\"{ result: { data, loading } }\">\n            <div v-if=\"loading\">Loading...</div>\n            <div v-else>\n              <!-- Check if there are zero records -->\n              <!-- <div v-if=\"data.adminCartItem.length === 0\">\n                <p>No records found.</p>\n              </div> -->\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th>id</th>\n                      <th>serviceName</th>\n                      <th>userName</th>\n                      <th>userLastname</th>\n                      <th>date</th>\n                      <th>time</th>\n                      <th>status</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <template v-if=\"data && data.adminCartItem\">\n                      <tr v-for=\"item in data.adminCartItem\" :key=\"item.id\">\n                        <td>{{ item.id }}</td>\n                        <td>{{ item.serviceName }}</td>\n                        <td>{{ item.userName }}</td>\n                        <td>{{ item.userLastname }}</td>\n                        <td>{{ item.date }}</td>\n                        <td>{{ item.time }}</td>\n                        <td>{{ item.status }}</td>\n                      </tr>\n                    </template>\n                    <template v-else><tr><td colspan=\"7\">No items available.</td></tr></template>\n                  </tbody>\n                </table>\n              </div>\n            </template>\n        </ApolloQuery>\n      </div>\n      <div class=\"tab-pane fade\" id=\"mostbook-tab-pane\" role=\"tabpanel\" aria-labelledby=\"disabled-tab\" tabindex=\"0\">\n        <ApolloQuery :query=\"require('../graphql/AdminCartItemCountService.gql')\">\n          <template v-slot=\"{ result: { data, loading } }\">\n            <div v-if=\"loading\">Loading...</div>\n            <div v-else>\n              <!-- Check if there are zero records -->\n              <!-- <div v-if=\"data.adminCartItem.length === 0\">\n                <p>No records found.</p>\n              </div> -->\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th>count</th>\n                      <th>serviceName</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <template v-if=\"data && data.adminCartItemCountService\">\n                      <tr v-for=\"item in data.adminCartItemCountService\" :key=\"item.id\">\n                        <td>{{ item.count }}</td>\n                        <td>{{ item.service.name }}</td>\n                      </tr>\n                    </template>\n                  </tbody>\n                </table>\n              </div>\n            </template>\n        </ApolloQuery>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UPDATE_STATUS_ADMIN_CART_ITEM from '@/graphql/UpdateStatusAdminCartItem.gql';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'BookList',\n  computed: {\n    ...mapState(['userRole']),\n  },\n  // mounted(){\n  //   console.log('oksdf')\n  //     console.log(this.get_role());\n  // },\n  methods: {\n    // get_role() {\n    //   const userRole = localStorage.getItem('userRole');\n    //   console.log('asdfasdf', userRole);\n    //   return userRole;\n    // },\n    async action_item(item, action) {\n      console.log(item, action)\n      let status = 0;\n      if (action == 'cancelled') status = 3\n      if (action == 'completed') status = 4\n      const response = await this.$apollo.mutate({\n        mutation: UPDATE_STATUS_ADMIN_CART_ITEM,\n        variables: {\n          id: parseInt(item.id),\n          status: status\n        }\n      })\n      if (response) {\n        alert('The item id: ' + item.id + ' has been completed.' )\n        this.reloadPage()\n      }\n      console.log(response)\n    },\n    reloadPage() {\n      // Reload the current page\n      window.location.reload();\n    },\n  }\n}\nconsole.log('asdf')\n</script>\n\n<style>\n\n</style>"]}]}