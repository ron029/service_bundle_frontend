{"remainingRequest":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!/home/bonifacio/code/service_bundle_frontend/src/views/ServiceEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bonifacio/code/service_bundle_frontend/src/views/ServiceEdit.vue","mtime":1695241256792},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/babel-loader/lib/index.js","mtime":1692833949708},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1692838039149},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js","mtime":1692833961693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVzZVZ1ZWxpZGF0ZSB9IGZyb20gJ0B2dWVsaWRhdGUvY29yZSc7CmltcG9ydCB7IHJlcXVpcmVkLCBpbnRlZ2VyIH0gZnJvbSAnQHZ1ZWxpZGF0ZS92YWxpZGF0b3JzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZXJ2aWNlRWRpdCcsCiAgICBzZXR1cCAoKSB7IHJldHVybiB7IHYkOiB1c2VWdWVsaWRhdGUoKSB9IH0sCiAgICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlcnZpY2VzOiB7CiAgICAgICAgc2VydmljZV9jYXRlZ29yeTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBzZXJ2aWNlX2NhdGVnb3JpZXM6IFtdLAogICAgICB9LAogICAgICBpZDogJycsCiAgICAgIGltYWdlOiAnJywKICAgICAgdGltZV9zbG90OiBbXSwKICAgICAgdGltZV9zbG90X29uZTogewogICAgICAgIHN0YXJ0X2RhdGU6ICcnLAogICAgICAgIGVuZF9kYXRlOiAnJywKICAgICAgICBzdGFydF90aW1lOiAnJywKICAgICAgICBlbmRfdGltZTogJycsCiAgICAgICAgY2FwYWNpdHk6ICcnLAogICAgICAgIGlkOiAnJwogICAgICB9LAogICAgICBzaG93VGltZTogZmFsc2UsCiAgICAgIGVkaXRfdGltZTogZmFsc2UsCiAgICAgIGRlbGV0ZV90aW1lOiBmYWxzZSwKICAgICAgdGltZV9zbG90X2NyZWF0ZTogdHJ1ZSwKICAgICAgY3JlYXRlVGltZVNsb3Q6IGZhbHNlLAogICAgICBpbmRleF9lZGl0X3RpbWVzbG90OiAwLAogICAgICBuZXd0czogewogICAgICAgIHN0YXJ0X2RhdGU6ICcnLAogICAgICAgIGVuZF9kYXRlOiAnJywKICAgICAgICBzdGFydF90aW1lOiAnJywKICAgICAgICBlbmRfdGltZTogJycsCiAgICAgICAgY2FwYWNpdHk6ICcnCiAgICAgIH0sCiAgICAgIHNob3dfb2xkX2ltYWdlOiB0cnVlLAogICAgICB0aW1lX3Nsb3RfaW5kZXhfZGVsZXRlOiAwLAogICAgfQogIH0sCiAgdmFsaWRhdGlvbnMgKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VydmljZXM6IHsKICAgICAgICBuYW1lOiB7IHJlcXVpcmVkIH0sCiAgICAgICAgc2VydmljZV9jYXRlZ29yeTogeyByZXF1aXJlZCAgfSwKICAgICAgICBwcmljZToge3JlcXVpcmVkLCBpbnRlZ2VyIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHtyZXF1aXJlZH0sCiAgICAgICAgc2VydmljZV9jYXRlZ29yaWVzOiB7cmVxdWlyZWR9LAogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgaWRfdG9fZWRpdDogTnVtYmVyLAogICAgaW5kZXhfdG9fZWRpdDogTnVtYmVyLAogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkKCl7CiAgICAgICAgY29uc29sZS5sb2coJ3VwbG9hZCcpCiAgICAgICAgdmFyIG15V2lkZ2V0ID0gd2luZG93LmNsb3VkaW5hcnkuY3JlYXRlVXBsb2FkV2lkZ2V0KHsKICAgICAgICAgICAgY2xvdWROYW1lOiAnZG92eHE1Z245JywgCiAgICAgICAgICAgIHByb2Nlc3NRdWV1ZTogZmFsc2UsCiAgICAgICAgICAgIHVwbG9hZFByZXNldDogJ3VoamV2ZXNnJ30sIChlcnJvciwgcmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIWVycm9yICYmIHJlc3VsdCAmJiByZXN1bHQuZXZlbnQgPT09ICJzdWNjZXNzIikgeyAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEb25lISBIZXJlIGlzIHRoZSBpbWFnZSBpbmZvOiAnLCByZXN1bHQuaW5mbyk7IAogICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gcmVzdWx0LmluZm8uc2VjdXJlX3VybDsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VzLmltYWdlID0gaW1hZ2VVcmw7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5SW1hZ2UoaW1hZ2VVcmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1cGxvYWRfd2lkZ2V0IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewogICAgICAgICAgICBteVdpZGdldC5vcGVuKCk7CiAgICAgICAgfSwgZmFsc2UpOyAgCiAgICB9LCAKICAgIC8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIHVwbG9hZGVkIGltYWdlCiAgICBkaXNwbGF5SW1hZ2UoaW1hZ2VVcmwpIHsKICAgICAgICB0aGlzLnNob3dfb2xkX2ltYWdlID0gZmFsc2U7CiAgICAgICAgY29uc3QgaW1hZ2VQcmV2aWV3RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlLXByZXZpZXcnKTsKICAgICAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsOwogICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoJ3VwbG9hZGVkLWltYWdlJyk7IC8vIEFkZCBDU1MgY2xhc3MgZm9yIHN0eWxpbmcKICAgICAgICBpbWFnZVByZXZpZXdEaXYuaW5uZXJIVE1MID0gJyc7IC8vIENsZWFyIGFueSBleGlzdGluZyBjb250ZW50CiAgICAgICAgaW1hZ2VQcmV2aWV3RGl2LmFwcGVuZENoaWxkKGltYWdlKTsKICAgIH0sCiAgICBuZXdfdGltZV9zbG90KCl7CiAgICAgIHRoaXMuY3JlYXRlVGltZVNsb3QgPSB0cnVlCiAgICB9LAogICAgYXN5bmMgY3JlYXRlX3RpbWVfc2xvdCgpewogICAgICAKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogcmVxdWlyZSgnQC9ncmFwaHFsL1RpbWVTbG90Q3JlYXRlLmdxbCcpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgInNlcnZpY2VJZCI6IHRoaXMuaWRfdG9fZWRpdCwKICAgICAgICAgICJzdGFydERhdGUiOiB0aGlzLm5ld3RzLnN0YXJ0X2RhdGUsCiAgICAgICAgICAiZW5kRGF0ZSI6IHRoaXMubmV3dHMuZW5kX2RhdGUsCiAgICAgICAgICAic3RhcnRUaW1lIjogdGhpcy5uZXd0cy5zdGFydF90aW1lLAogICAgICAgICAgImVuZFRpbWUiOiB0aGlzLm5ld3RzLmVuZF90aW1lLAogICAgICAgICAgImNhcGFjaXR5IjogdGhpcy5uZXd0cy5jYXBhY2l0eSwKICAgICAgICB9LAogICAgICB9KTsKICAgICAgdGhpcy5jcmVhdGVUaW1lU2xvdCA9IGZhbHNlCiAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKCdzZXJ2aWNlRWRpdDogaW5mbyBmb3IgbmV3IHRpbWVzbG90OiAnLCByZXNwb25zZSkKICAgICAgICBhbGVydCgnTkVXIFRJTUVTTE9UIEhBUyBCRUVOIEFEREVEJyk7CiAgICAgICAgY29uc3QgbmV3X3RzX2RhdGEgPSByZXNwb25zZS5kYXRhLmNyZWF0ZVRpbWVTbG90LnRpbWVTbG90OwogICAgICAgIGxldCBpbmRleF9uZXdfdHMgPSB7CiAgICAgICAgICBzdGFydERhdGU6IG5ld190c19kYXRhLnN0YXJ0RGF0ZSwKICAgICAgICAgIGVuZERhdGU6IG5ld190c19kYXRhLmVuZERhdGUsCiAgICAgICAgICBzdGFydFRpbWU6IG5ld190c19kYXRhLnN0YXJ0VGltZSwKICAgICAgICAgIGVuZFRpbWU6IG5ld190c19kYXRhLmVuZFRpbWUsCiAgICAgICAgICBpZDogbmV3X3RzX2RhdGEuaWQsCiAgICAgICAgICBjYXBhY2l0eTogbmV3X3RzX2RhdGEuY2FwYWNpdHkKICAgICAgICB9CiAgICAgICAgdGhpcy50aW1lX3Nsb3QucHVzaChpbmRleF9uZXdfdHMpOwogICAgICAgIC8vIFRPRE8gZW1pdCB0aW1lc2xvdCA6Y3JlYXRlCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlVGltZVNsb3QnLCB7aW5kZXhfdG9fZWRpdDogdGhpcy5pbmRleF90b19lZGl0LCB0aW1lX3Nsb3Q6IHRoaXMudGltZV9zbG90fSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBlZGl0X3RpbWVfc2F2ZSgpIHsKICAgICAgY29uc29sZS5sb2coJ3RoZSBpZCBvZiBzcGVjaWZpYyB0aW1lc2xvdCBpcyBub3cnLHRoaXMudGltZV9zbG90X29uZS5pZCkKICAgICAgY29uc29sZS5sb2coIidpdCBpcyBhIHR5cGUgb2YnLCB0IikKICAgICAgY29uc29sZS5sb2codHlwZW9mIHRoaXMudGltZV9zbG90X29uZS5pZCkKICAgICAgY29uc3QgcGFyc2VpZCA9IHBhcnNlSW50KHRoaXMudGltZV9zbG90X29uZS5pZCkKICAgICAgdGhpcy5zaG93VGltZSA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRfdGltZSA9IGZhbHNlOwogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKCdkYXRhIGZvciB1cGRhdGU6ICcsdGhpcy50aW1lX3Nsb3Rfb25lKQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogcmVxdWlyZSgnQC9ncmFwaHFsL1RpbWVTbG90VXBkYXRlLmdxbCcpLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICJpZCI6IHBhcnNlaWQsCiAgICAgICAgICAgICJzZXJ2aWNlSWQiOiB0aGlzLmlkX3RvX2VkaXQsCiAgICAgICAgICAgICJzdGFydERhdGUiOiB0aGlzLnRpbWVfc2xvdF9vbmUuc3RhcnRfZGF0ZSwKICAgICAgICAgICAgImVuZERhdGUiOiB0aGlzLnRpbWVfc2xvdF9vbmUuZW5kX2RhdGUsCiAgICAgICAgICAgICJzdGFydFRpbWUiOiB0aGlzLnRpbWVfc2xvdF9vbmUuc3RhcnRfdGltZSwKICAgICAgICAgICAgImVuZFRpbWUiOiB0aGlzLnRpbWVfc2xvdF9vbmUuZW5kX3RpbWUsCiAgICAgICAgICAgICJjYXBhY2l0eSI6IHBhcnNlSW50KHRoaXMudGltZV9zbG90X29uZS5jYXBhY2l0eSksCiAgICAgICAgICB9LAogICAgICAgIH0pOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51cGRhdGVUaW1lU2xvdC5lcnJvcnMubGVuZ3RoIDwgMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS51cGRhdGVUaW1lU2xvdC5lcnJvcnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgIGNvbnNvbGUubG9nKCdsaXN0IG9mIHRpbWVzbG90IGFyZTogJywgdGhpcy50aW1lX3Nsb3QpCiAgICAgICAgICBjb25zb2xlLmxvZygnaW5kZXggb2YgdGltZXNsb3QgdG8gZWRpdCBpczogJywgdGhpcy5pbmRleF9lZGl0X3RpbWVzbG90KQogICAgICAgICAgdGhpcy50aW1lX3Nsb3RbdGhpcy5pbmRleF9lZGl0X3RpbWVzbG90XVsnaWQnXSA9IHBhcnNlaWQKICAgICAgICAgIHRoaXMudGltZV9zbG90W3RoaXMuaW5kZXhfZWRpdF90aW1lc2xvdF1bJ2NhcGFjaXR5J10gPSBwYXJzZUludCh0aGlzLnRpbWVfc2xvdF9vbmUuY2FwYWNpdHkpCiAgICAgICAgICB0aGlzLnRpbWVfc2xvdFt0aGlzLmluZGV4X2VkaXRfdGltZXNsb3RdWydlbmREYXRlJ10gPSB0aGlzLnRpbWVfc2xvdF9vbmUuZW5kX2RhdGUKICAgICAgICAgIHRoaXMudGltZV9zbG90W3RoaXMuaW5kZXhfZWRpdF90aW1lc2xvdF1bJ2VuZFRpbWUnXSA9IHRoaXMuZm9ybWF0dGVkTG9uZ1RpbWUodGhpcy50aW1lX3Nsb3Rfb25lLmVuZF90aW1lKQogICAgICAgICAgdGhpcy50aW1lX3Nsb3RbdGhpcy5pbmRleF9lZGl0X3RpbWVzbG90XVsnc3RhcnREYXRlJ10gPSAgdGhpcy50aW1lX3Nsb3Rfb25lLnN0YXJ0X2RhdGUKICAgICAgICAgIHRoaXMudGltZV9zbG90W3RoaXMuaW5kZXhfZWRpdF90aW1lc2xvdF1bJ3N0YXJ0VGltZSddID0gdGhpcy5mb3JtYXR0ZWRMb25nVGltZSh0aGlzLnRpbWVfc2xvdF9vbmUuc3RhcnRfdGltZSkKICAgICAgICAgIGNvbnNvbGUubG9nKCdsaXN0IG9mIHRpbWVzbG90IGFmdGVyIGVkaXQ6ICcsIHRoaXMudGltZV9zbG90KTsKICAgICAgICAgIC8vIFRPRE8gZW1pdCB0aW1lc2xvdCA6dXBkYXRlCiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGVUaW1lU2xvdCcsIHtpbmRleF90b19lZGl0OiB0aGlzLmluZGV4X3RvX2VkaXQsIHRpbWVfc2xvdDogdGhpcy50aW1lX3Nsb3R9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7IGNvbnNvbGUuZXJyb3IoIkdyYXBocWwgRXJyb3I6IiwgZXJyb3IpOyB9CiAgICB9LAogICAgYXN5bmMgZGVsZXRlX3RpbWVfc2F2ZSgpewogICAgICBjb25zb2xlLmxvZygndGhlIG9iamVjdCBvZiB0aW1lIHNsb3QgdG8gZGVsZXRlIGlzJyx0aGlzLnRpbWVfc2xvdF9vbmUuaWQpCiAgICAgIGNvbnNvbGUubG9nKCd0aGUgdHlwZSBvZiBpZCBpcycpCiAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiBwYXJzZUludCh0aGlzLnRpbWVfc2xvdF9vbmUuaWQpKQogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogcmVxdWlyZSgnQC9ncmFwaHFsL1RpbWVTbG90RGVsZXRlLmdxbCcpLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICJpZCI6IHBhcnNlSW50KHRoaXMudGltZV9zbG90X29uZS5pZCksCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgdGhpcy50aW1lX3Nsb3Quc3BsaWNlKHRoaXMudGltZV9zbG90X2luZGV4X2RlbGV0ZSwgMSk7CiAgICAgICAgICBhbGVydCgnVElNRVNMT1QgSEFTIEJFRU4gREVMRVRFRC4nKTsKICAgICAgICAgIC8vIFRPRE8gZW1pdCB0aW1lc2xvdCA6ZGVsZXRlCiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGVUaW1lU2xvdCcsIHtpbmRleF90b19lZGl0OiB0aGlzLmluZGV4X3RvX2VkaXQsIHRpbWVfc2xvdDogdGhpcy50aW1lX3Nsb3R9KTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgdGhpcy50aW1lX3Nsb3Rfb25lID0gbnVsbDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS5lcnJvcigiR3JhcGhxbCBFcnJvcjoiLCBlcnJvcik7IH0KICAgICAgdGhpcy5zaG93VGltZSA9IGZhbHNlOwogICAgICB0aGlzLmRlbGV0ZV90aW1lID0gZmFsc2U7CiAgICAgIHRoaXMudGltZV9zbG90X29uZSA9IG51bGw7CiAgICB9LAogICAgcG9wdXBUaW1lKCl7IHRoaXMuc2hvd1RpbWUgPSB0cnVlOyB9LAogICAgY2xvc2VUaW1lKCl7IHRoaXMuZWRpdF90aW1lID0gdHJ1ZTsgfSwKICAgIGFzeW5jIGVkaXRfdGltZV9zbG90KGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuaW5kZXhfZWRpdF90aW1lc2xvdCA9IGluZGV4OwogICAgICBjb25zb2xlLmxvZygnZWRpdF90aW1lX3Nsb3RfaWQgaXMgbm93JywgcGFyc2VJbnQoaXRlbS5pZCkpCiAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiBpdGVtLmlkKQogICAgICBhd2FpdCB0aGlzLnNob3dfdGltZV9zbG90X29uZShwYXJzZUludChpdGVtLmlkKSkKICAgICAgdGhpcy5lZGl0X3RpbWUgPSB0cnVlOwogICAgICB0aGlzLnNob3dUaW1lID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBkZWxldGVfdGltZV9zbG90KGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMudGltZV9zbG90X2luZGV4X2RlbGV0ZSA9IHBhcnNlSW50KGluZGV4KTsKICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZV90aW1lX3Nsb3RfaWQgaXMgJyxwYXJzZUludChpdGVtLmlkKSkKICAgICAgYXdhaXQgdGhpcy5zaG93X3RpbWVfc2xvdF9vbmUocGFyc2VJbnQoaXRlbS5pZCksIGluZGV4KQogICAgICB0aGlzLmRlbGV0ZV90aW1lID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93VGltZSA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy52JC4kdG91Y2goKTsKICAgICAgaWYgKCF0aGlzLnYkLiRlcnJvcikgewogICAgICAgIHRoaXMuc2VydmljZXMuc2VydmljZV9jYXRlZ29yeSA9IHBhcnNlSW50KHRoaXMuc2VydmljZXMuc2VydmljZV9jYXRlZ29yeSk7CiAgICAgICAgdGhpcy5zZXJ2aWNlcy5wcmljZSA9IHBhcnNlSW50KHRoaXMuc2VydmljZXMucHJpY2UpOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VydmljZXMpCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiByZXF1aXJlKCdAL2dyYXBocWwvU2VydmljZVVwZGF0ZS5ncWwnKSwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZDogdGhpcy5zZXJ2aWNlcy5pZCwKICAgICAgICAgICAgc2VydmljZUNhdGVnb3J5SWQ6IHRoaXMuc2VydmljZXMuc2VydmljZV9jYXRlZ29yeSwKICAgICAgICAgICAgbmFtZTogdGhpcy5zZXJ2aWNlcy5uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5zZXJ2aWNlcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgcHJpY2U6IHRoaXMuc2VydmljZXMucHJpY2UsCiAgICAgICAgICAgIGltYWdlOiB0aGlzLnNlcnZpY2VzLmltYWdlCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVNlcnZpY2VQYWdlJywge2luZGV4X3RvX2VkaXQ6IHRoaXMuaW5kZXhfdG9fZWRpdCwgc2VydmljZV9kZXRhaWxzOiB0aGlzLnNlcnZpY2VzfSkKICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UgYWZ0ZXIgdXBkYXRlJywgcmVzcG9uc2UpCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS51cGRhdGVTZXJ2aWNlLmVycm9ycy5sZW5ndGgpCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlU2VydmljZS5lcnJvcnMubGVuZ3RoIDwgMSkgewogICAgICAgICAgYWxlcnQgKCdZT1VSIFBST0RVQ1QgSEFTIEJFRU4gVVBEQVRFRCcpCiAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnL3NlcnZpY2VzJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgc2hvd19zZXJ2aWNlKGlkKSB7CiAgICAgIGNvbnN0IG5ld19pZCA9IHBhcnNlSW50KGlkKTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRhcG9sbG8ucXVlcnkoewogICAgICAgIHF1ZXJ5OiByZXF1aXJlKCdAL2dyYXBocWwvQWRtaW5TZXJ2aWNlRmluZC5ncWwnKSwKICAgICAgICB2YXJpYWJsZXM6IHsgImlkIjogbmV3X2lkIH0KICAgICAgfSk7CiAgICAgIHRoaXMuc2VydmljZXMuaWQgPSByZXNwb25zZS5kYXRhLnNlcnZpY2VBZG1pblswXS5pZDsKICAgICAgdGhpcy5zZXJ2aWNlcy5uYW1lID0gcmVzcG9uc2UuZGF0YS5zZXJ2aWNlQWRtaW5bMF0ubmFtZTsKICAgICAgdGhpcy5zZXJ2aWNlcy5wcmljZSA9IHJlc3BvbnNlLmRhdGEuc2VydmljZUFkbWluWzBdLnByaWNlOwogICAgICB0aGlzLnNlcnZpY2VzLmltYWdlID0gcmVzcG9uc2UuZGF0YS5zZXJ2aWNlQWRtaW5bMF0uaW1hZ2U7CiAgICAgIHRoaXMuc2VydmljZXMuZGVzY3JpcHRpb24gPSByZXNwb25zZS5kYXRhLnNlcnZpY2VBZG1pblswXS5kZXNjcmlwdGlvbjsKICAgICAgdGhpcy5zZXJ2aWNlcy5zZXJ2aWNlX2NhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLnNlcnZpY2VBZG1pblswXS5zZXJ2aWNlQ2F0ZWdvcmllczsKICAgICAgdGhpcy5zZXJ2aWNlcy5zZXJ2aWNlX2NhdGVnb3J5ID0gcmVzcG9uc2UuZGF0YS5zZXJ2aWNlQWRtaW5bMF0uc2VydmljZUNhdGVnb3J5SWQubmFtZTsKICAgIH0sCiAgICBhc3luYyBzaG93X3RpbWVfc2xvdF9vbmUoaWQpIHsKICAgICAgY29uc3QgbmV3X2lkID0gcGFyc2VJbnQoaWQpOwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGFwb2xsby5xdWVyeSh7CiAgICAgICAgcXVlcnk6IHJlcXVpcmUoJ0AvZ3JhcGhxbC9UaW1lU2xvdE9uZS5ncWwnKSwKICAgICAgICB2YXJpYWJsZXM6IHsgImlkIjogbmV3X2lkIH0KICAgICAgfSk7CiAgICAgIC8vIEZJWE1FOiB0aW1lc2xvdCB3aGVuIGVkaXQgYnV0dG9uIGNsaWNrcyBhcHBlYXJzIHdyb25nIGluZm8KICAgICAgY29uc29sZS5sb2coJ3RpbWUgc2xvdCB0byBlZGl0IGlzOiAnLCByZXNwb25zZSkKICAgICAgdGhpcy50aW1lX3Nsb3Rfb25lLmlkID0gcmVzcG9uc2UuZGF0YS50aW1lU2xvdE9uZS5pZDsKICAgICAgdGhpcy50aW1lX3Nsb3Rfb25lLmNhcGFjaXR5ID0gcmVzcG9uc2UuZGF0YS50aW1lU2xvdE9uZS5jYXBhY2l0eQogICAgICB0aGlzLnRpbWVfc2xvdF9vbmUuc3RhcnRfZGF0ZSA9IHJlc3BvbnNlLmRhdGEudGltZVNsb3RPbmUuc3RhcnREYXRlOwogICAgICB0aGlzLnRpbWVfc2xvdF9vbmUuZW5kX2RhdGUgPSByZXNwb25zZS5kYXRhLnRpbWVTbG90T25lLmVuZERhdGU7CiAgICAgIHRoaXMudGltZV9zbG90X29uZS5lbmRfdGltZSA9IHRoaXMuZm9ybWF0dGVkU3RhcnRUaW1lKHJlc3BvbnNlLmRhdGEudGltZVNsb3RPbmUuZW5kVGltZSk7CiAgICAgIHRoaXMudGltZV9zbG90X29uZS5zdGFydF90aW1lID0gdGhpcy5mb3JtYXR0ZWRTdGFydFRpbWUocmVzcG9uc2UuZGF0YS50aW1lU2xvdE9uZS5zdGFydFRpbWUpOwogICAgfSwKICAgIGFzeW5jIHNob3dfdGltZV9zbG90X2J5X3NlcnZpY2UoaWQpIHsKICAgICAgY29uc3QgbmV3X2lkID0gcGFyc2VJbnQoaWQpOwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGFwb2xsby5xdWVyeSh7CiAgICAgICAgcXVlcnk6IHJlcXVpcmUoJ0AvZ3JhcGhxbC9UaW1lU2xvdEJ5U2VydmljZS5ncWwnKSwKICAgICAgICB2YXJpYWJsZXM6IHsgImlkIjogbmV3X2lkIH0KICAgICAgfSk7CgogICAgICB0aGlzLnRpbWVfc2xvdCA9IHJlc3BvbnNlLmRhdGEudGltZVNsb3RCeVNlcnZpY2UKICAgICAgY29uc29sZS5sb2coJ1RTIEJZIFNFUlZJQ0UnLCB0aGlzLnRpbWVfc2xvdCkKICAgIH0sCiAgICByZWxvYWRQYWdlKCkgewogICAgICAvLyBSZWxvYWQgdGhlIGN1cnJlbnQgcGFnZQogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgZm9ybWF0dGVkTG9uZ1RpbWUodGltZSkgewogICAgICAvLyBQYXJzZSB0aGUgaW5wdXQgdGltZSBzdHJpbmcgaW50byBhIERhdGUgb2JqZWN0CiAgICAgIGNvbnN0IGlucHV0VGltZSA9IG5ldyBEYXRlKGAyMDAwLTAxLTAxVCR7dGltZX1gKTsKICAgICAgCiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgVVRDIGVxdWl2YWxlbnQgdGltZQogICAgICBjb25zdCB1dGNUaW1lID0gbmV3IERhdGUoaW5wdXRUaW1lLmdldFRpbWUoKSAtIGlucHV0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApOwoKICAgICAgLy8gRm9ybWF0IHRoZSBVVEMgdGltZSBhcyAiWVlZWS1NTS1ERCBISDptbTpzcyBVVEMiCiAgICAgIGNvbnN0IGZvcm1hdHRlZERhdGV0aW1lID0gdXRjVGltZS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1QnLCAnICcpLnJlcGxhY2UoL1wuXGQrWiQvLCAnIFVUQycpOwoKICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGV0aW1lOwogICAgfSwKICAgIGZvcm1hdHRlZFN0YXJ0VGltZSh0aW1lKSB7CiAgICAgIC8vIFJlbW92ZSAiVVRDIiBmcm9tIHRoZSBlbmQgb2YgdGhlIGlucHV0IGRhdGV0aW1lIHN0cmluZwogICAgICBjb25zdCB0aW1lV2l0aG91dFVUQyA9IHRpbWUucmVwbGFjZSgnIFVUQycsICcnKTsKCiAgICAgIC8vIFBhcnNlIHRoZSBkYXRldGltZSBzdHJpbmcgaW50byBhIERhdGUgb2JqZWN0CiAgICAgIGNvbnN0IGRhdGVPYmogPSBuZXcgRGF0ZSh0aW1lV2l0aG91dFVUQyk7CgogICAgICAvLyBFeHRyYWN0IHRoZSBob3VyLCBtaW51dGUsIGFuZCBzZWNvbmQgcGFydHMKICAgICAgY29uc3QgaG91ciA9IGRhdGVPYmouZ2V0SG91cnMoKTsKICAgICAgY29uc3QgbWludXRlID0gZGF0ZU9iai5nZXRNaW51dGVzKCk7CiAgICAgIGNvbnN0IHNlY29uZCA9IGRhdGVPYmouZ2V0U2Vjb25kcygpOwoKICAgICAgLy8gRm9ybWF0IHRoZSBob3VyLCBtaW51dGUsIGFuZCBzZWNvbmQgYXMgIkhIOk1NOlNTIgogICAgICBjb25zdCBmb3JtYXR0ZWRIb3VyID0gaG91ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgIGNvbnN0IGZvcm1hdHRlZE1pbnV0ZSA9IG1pbnV0ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgIGNvbnN0IGZvcm1hdHRlZFNlY29uZCA9IHNlY29uZC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CgogICAgICByZXR1cm4gYCR7Zm9ybWF0dGVkSG91cn06JHtmb3JtYXR0ZWRNaW51dGV9OiR7Zm9ybWF0dGVkU2Vjb25kfWA7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zaG93X3NlcnZpY2UodGhpcy5pZF90b19lZGl0KTsKICAgIHRoaXMuc2hvd190aW1lX3Nsb3RfYnlfc2VydmljZSh0aGlzLmlkX3RvX2VkaXQpOwogICAgdGhpcy51cGxvYWQoKTsKICB9Cn0K"},{"version":3,"sources":["ServiceEdit.vue"],"names":[],"mappings":";AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ServiceEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row d-flex justify-content-center align-items-center h-100\">\n      <div class=\"col-md-6 col-lg-6 col-sm-6\">\n        <div class=\"d-flex flex-row align-items-center justify-content-center justify-content-lg-start\">\n          <p class=\"login_text lead fw-normal mb-0 me-3\"></p>\n        </div>\n        <form @submit.prevent=\"submitForm\" class=\"row\">\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"input-field-signin\">\n              <div :class=\"{ error: v$.services.name.$errors.length }\">\n                <label class=\"form-label\">Service Name\n                  <input v-model=\"services.name\" class=\"form-control form-control-l\" :class=\"{ error: v$.services.name.$errors.length }\">\n                  <div class=\"input-errors\" v-for=\"error of v$.services.name.$errors\" :key=\"error.$uid\">\n                    <div class=\"error-msg\">{{ error.$message }}</div>\n                  </div>\n                </label>\n              </div>\n            </div>\n            <!-- Image -->\n            <div class=\"row input-field-signup mt-3\">\n              <button id=\"upload_widget\" @click.prevent=\"\" class=\"cloudinary-button\">Change Image</button>\n            </div>\n            <div class=\"input-field-signin\">\n              <div>\n                <label class=\"form-label\">\n                  <div id=\"image-preview\" class=\"mt-3\"> <!-- This is where the uploaded image will be displayed --> </div>\n                  <img v-if=\"show_old_image\" :src=\"services.image\" style=\"height:200px; width:200px;\">\n\n                </label>\n              </div>\n            </div> \n          </div>\n          <!-- Service Category -->\n          <div class=\"col-md-3 col-lg-6\">\n            <div class=\"input-field-signin\">\n              <div :class=\"{ error: v$.services.service_category.$errors.length }\">\n                <label class=\"form-label\">name\n                  <select v-model=\"services.service_category\" class=\"form-control form-control-l\" :class=\"{ error: v$.services.service_category.$errors.length }\">\n                    <option v-for=\"category in this.services.service_categories\" :key=\"category.id\" :value=\"category.id\">\n                      {{ category.name }}\n                    </option>\n                  </select>\n                </label>\n              </div>\n            </div>\n            <!-- Description -->\n            <div class=\"input-field-signin\">\n              <div :class=\"{ error: v$.services.description.$errors.length }\">\n                <label class=\"form-label\">Description\n                  <textarea v-model=\"services.description\" class=\"form-control form-control-l\" :class=\"{ error: v$.services.description.$errors.length }\"></textarea>\n                  <div class=\"input-errors\" v-for=\"error of v$.services.description.$errors\" :key=\"error.$uid\">\n                    <div class=\"error-msg\">{{ error.$message }}</div>\n                  </div>\n                </label>\n              </div>\n            </div>\n            <!-- Price -->\n            <div class=\"input-field-signin\">\n              <div :class=\"{ error: v$.services.price.$errors.length }\">\n                <label class=\"form-label\">Price\n                  <input id=\"price\" v-model=\"services.price\" class=\"form-control form-control-l\" :class=\"{ error: v$.services.price.$errors.length }\">\n                  <div class=\"input-errors\" v-for=\"error of v$.services.price.$errors\" :key=\"error.$uid\">\n                    <div class=\"error-msg\">{{ error.$message }}</div>\n                  </div>\n                </label>\n              </div>\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary btn-lg input-field-signin\">Update</button>\n        </form>\n      </div>\n      <div class=\"col-md-6 col-lg-6 col-sm-6\">\n        <span @click=\"new_time_slot\" class=\"btn btn-primary\">New Time Slot</span>\n        <table class=\"table\">\n          <tr>\n            <td>Start Date</td>\n            <td>End Date</td>\n            <td>Start Time</td>\n            <td>End Time</td>\n            <td>Capacity</td>\n            <td>Action</td>\n          </tr>\n          <tr v-for=\"(item, index) in time_slot\" :key=\"item.id\">\n            <td>{{ item.startDate }}</td>\n            <td>{{ item.endDate }}</td>\n            <td>{{ formattedStartTime(item.startTime) }}</td>\n            <td>{{ formattedStartTime(item.endTime) }}</td>\n            <td>{{ item.capacity }}</td>\n            <td>\n              <span @click=\"edit_time_slot(item, index)\" class=\"btn btn-warning\">edit</span>\n              <span @click=\"delete_time_slot(item, index)\" class=\"btn btn-danger\">Delete</span>\n            </td>\n          </tr>\n        </table>\n      </div>\n      <div class=\"position-relative edit-time\">\n        <div v-if=\"showTime\" class=\"card position-absolute top-50 start-50 translate-middle\">\n          <div class=\"card-body\">\n            <h1></h1>\n            <table class=\"table\">\n              <tr>\n                <td>Start Date</td>\n                <td>End Date</td>\n                <td>Start Time</td>\n                <td>End Time</td>\n                <td>Capacity</td>\n                <td>Action</td>\n              </tr>\n              <tr v-if=\"delete_time\">\n                <td>{{ this.time_slot_one.start_date }}</td>\n                <td>{{ this.time_slot_one.end_date }}</td>\n                <td>{{ this.time_slot_one.start_time }}</td>\n                <td>{{ this.time_slot_one.end_time }}</td>\n                <td>{{ this.time_slot_one.capacity }}</td>\n                <td><span @click=\"this.delete_time_save\" class=\"btn btn-danger\">Delete</span></td>\n              </tr>\n              <tr v-if=\"edit_time\">\n                <td> <input type=\"date\" v-model=\"time_slot_one.start_date\"> </td> \n                <td> <input type=\"date\" v-model=\"time_slot_one.end_date\"> </td> \n                <td> <input type=\"time\" v-model=\"time_slot_one.start_time\"> </td>\n                <td> <input type=\"time\" v-model=\"time_slot_one.end_time\"> </td>\n                <td> <input type=\"number\" v-model=\"time_slot_one.capacity\"> </td>\n                <td><span @click=\"this.edit_time_save\" class=\"btn btn-warning\">edit</span></td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n      <div class=\"position-relative edit-time\">\n        <div v-if=\"createTimeSlot\" class=\"card position-absolute top-50 start-50 translate-middle\">\n          <div class=\"card-body\">\n            <p>please ensure the date is now or in the future</p>\n            <p>please ensure the before and after of time, or else it wont save!</p>\n            <table class=\"table\">\n              <tr>\n                <td>Start Date</td>\n                <td>End Date</td>\n                <td>Start Time</td>\n                <td>End Time</td>\n                <td>Capacity</td>\n                <td>Action</td>\n              </tr>\n              <tr>\n                <td> <input type=\"date\" v-model=\"newts.start_date\"> </td>\n                <td> <input type=\"date\" v-model=\"newts.end_date\"> </td>\n                <td> <input type=\"time\" v-model=\"newts.start_time\"> </td>\n                <td> <input type=\"time\" v-model=\"newts.end_time\"> </td>\n                <td> <input type=\"number\" v-model=\"newts.capacity\"> </td>\n                <td><span @click=\"this.create_time_slot\" class=\"btn btn-success\">Create</span></td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, integer } from '@vuelidate/validators';\nexport default {\n  name: 'ServiceEdit',\n    setup () { return { v$: useVuelidate() } },\n    data () {\n    return {\n      services: {\n        service_category: '',\n        name: '',\n        price: '',\n        description: '',\n        service_categories: [],\n      },\n      id: '',\n      image: '',\n      time_slot: [],\n      time_slot_one: {\n        start_date: '',\n        end_date: '',\n        start_time: '',\n        end_time: '',\n        capacity: '',\n        id: ''\n      },\n      showTime: false,\n      edit_time: false,\n      delete_time: false,\n      time_slot_create: true,\n      createTimeSlot: false,\n      index_edit_timeslot: 0,\n      newts: {\n        start_date: '',\n        end_date: '',\n        start_time: '',\n        end_time: '',\n        capacity: ''\n      },\n      show_old_image: true,\n      time_slot_index_delete: 0,\n    }\n  },\n  validations () {\n    return {\n      services: {\n        name: { required },\n        service_category: { required  },\n        price: {required, integer },\n        description: {required},\n        service_categories: {required},\n      }\n    }\n  },\n  props: {\n    id_to_edit: Number,\n    index_to_edit: Number,\n  },\n  methods: {\n    upload(){\n        console.log('upload')\n        var myWidget = window.cloudinary.createUploadWidget({\n            cloudName: 'dovxq5gn9', \n            processQueue: false,\n            uploadPreset: 'uhjevesg'}, (error, result) => {\n                if (!error && result && result.event === \"success\") { \n                console.log('Done! Here is the image info: ', result.info); \n                    const imageUrl = result.info.secure_url;\n                    this.services.image = imageUrl;\n                    this.displayImage(imageUrl);\n                }\n            }\n        )\n        document.getElementById(\"upload_widget\").addEventListener(\"click\", function(){\n            myWidget.open();\n        }, false);  \n    }, \n    // Function to display the uploaded image\n    displayImage(imageUrl) {\n        this.show_old_image = false;\n        const imagePreviewDiv = document.getElementById('image-preview');\n        const image = document.createElement('img');\n        image.src = imageUrl;\n        image.classList.add('uploaded-image'); // Add CSS class for styling\n        imagePreviewDiv.innerHTML = ''; // Clear any existing content\n        imagePreviewDiv.appendChild(image);\n    },\n    new_time_slot(){\n      this.createTimeSlot = true\n    },\n    async create_time_slot(){\n      \n      const response = await this.$apollo.mutate({\n        mutation: require('@/graphql/TimeSlotCreate.gql'),\n        variables: {\n          \"serviceId\": this.id_to_edit,\n          \"startDate\": this.newts.start_date,\n          \"endDate\": this.newts.end_date,\n          \"startTime\": this.newts.start_time,\n          \"endTime\": this.newts.end_time,\n          \"capacity\": this.newts.capacity,\n        },\n      });\n      this.createTimeSlot = false\n      if (response) {\n        console.log('serviceEdit: info for new timeslot: ', response)\n        alert('NEW TIMESLOT HAS BEEN ADDED');\n        const new_ts_data = response.data.createTimeSlot.timeSlot;\n        let index_new_ts = {\n          startDate: new_ts_data.startDate,\n          endDate: new_ts_data.endDate,\n          startTime: new_ts_data.startTime,\n          endTime: new_ts_data.endTime,\n          id: new_ts_data.id,\n          capacity: new_ts_data.capacity\n        }\n        this.time_slot.push(index_new_ts);\n        // TODO emit timeslot :create\n        this.$emit('updateTimeSlot', {index_to_edit: this.index_to_edit, time_slot: this.time_slot});\n      }\n    },\n    async edit_time_save() {\n      console.log('the id of specific timeslot is now',this.time_slot_one.id)\n      console.log(\"'it is a type of', t\")\n      console.log(typeof this.time_slot_one.id)\n      const parseid = parseInt(this.time_slot_one.id)\n      this.showTime = false;\n      this.edit_time = false;\n      try {\n        console.log('data for update: ',this.time_slot_one)\n        const response = await this.$apollo.mutate({\n          mutation: require('@/graphql/TimeSlotUpdate.gql'),\n          variables: {\n            \"id\": parseid,\n            \"serviceId\": this.id_to_edit,\n            \"startDate\": this.time_slot_one.start_date,\n            \"endDate\": this.time_slot_one.end_date,\n            \"startTime\": this.time_slot_one.start_time,\n            \"endTime\": this.time_slot_one.end_time,\n            \"capacity\": parseInt(this.time_slot_one.capacity),\n          },\n        });\n\n        if (response.data.updateTimeSlot.errors.length < 0) {\n          console.log(response.data.updateTimeSlot.errors);\n        } else {\n          console.log(response)\n          console.log('list of timeslot are: ', this.time_slot)\n          console.log('index of timeslot to edit is: ', this.index_edit_timeslot)\n          this.time_slot[this.index_edit_timeslot]['id'] = parseid\n          this.time_slot[this.index_edit_timeslot]['capacity'] = parseInt(this.time_slot_one.capacity)\n          this.time_slot[this.index_edit_timeslot]['endDate'] = this.time_slot_one.end_date\n          this.time_slot[this.index_edit_timeslot]['endTime'] = this.formattedLongTime(this.time_slot_one.end_time)\n          this.time_slot[this.index_edit_timeslot]['startDate'] =  this.time_slot_one.start_date\n          this.time_slot[this.index_edit_timeslot]['startTime'] = this.formattedLongTime(this.time_slot_one.start_time)\n          console.log('list of timeslot after edit: ', this.time_slot);\n          // TODO emit timeslot :update\n          this.$emit('updateTimeSlot', {index_to_edit: this.index_to_edit, time_slot: this.time_slot});\n        }\n      } catch (error) { console.error(\"Graphql Error:\", error); }\n    },\n    async delete_time_save(){\n      console.log('the object of time slot to delete is',this.time_slot_one.id)\n      console.log('the type of id is')\n      console.log(typeof parseInt(this.time_slot_one.id))\n      try {\n        const response = await this.$apollo.mutate({\n          mutation: require('@/graphql/TimeSlotDelete.gql'),\n          variables: {\n            \"id\": parseInt(this.time_slot_one.id),\n          },\n        });\n        if (response) {\n          this.time_slot.splice(this.time_slot_index_delete, 1);\n          alert('TIMESLOT HAS BEEN DELETED.');\n          // TODO emit timeslot :delete\n          this.$emit('updateTimeSlot', {index_to_edit: this.index_to_edit, time_slot: this.time_slot});\n        }\n        console.log(response)\n        this.time_slot_one = null;\n      } catch (error) { console.error(\"Graphql Error:\", error); }\n      this.showTime = false;\n      this.delete_time = false;\n      this.time_slot_one = null;\n    },\n    popupTime(){ this.showTime = true; },\n    closeTime(){ this.edit_time = true; },\n    async edit_time_slot(item, index) {\n      this.index_edit_timeslot = index;\n      console.log('edit_time_slot_id is now', parseInt(item.id))\n      console.log(typeof item.id)\n      await this.show_time_slot_one(parseInt(item.id))\n      this.edit_time = true;\n      this.showTime = true;\n    },\n    async delete_time_slot(item, index) {\n      this.time_slot_index_delete = parseInt(index);\n      console.log('delete_time_slot_id is ',parseInt(item.id))\n      await this.show_time_slot_one(parseInt(item.id), index)\n      this.delete_time = true;\n      this.showTime = true;\n    },\n    async submitForm() {\n      this.v$.$touch();\n      if (!this.v$.$error) {\n        this.services.service_category = parseInt(this.services.service_category);\n        this.services.price = parseInt(this.services.price);\n        console.log(this.services)\n        const response = await this.$apollo.mutate({\n          mutation: require('@/graphql/ServiceUpdate.gql'),\n          variables: {\n            id: this.services.id,\n            serviceCategoryId: this.services.service_category,\n            name: this.services.name,\n            description: this.services.description,\n            price: this.services.price,\n            image: this.services.image\n          },\n        });\n        this.$emit('updateServicePage', {index_to_edit: this.index_to_edit, service_details: this.services})\n        console.log('response after update', response)\n        console.log(response.data.updateService.errors.length)\n        if (response.data.updateService.errors.length < 1) {\n          alert ('YOUR PRODUCT HAS BEEN UPDATED')\n          // this.$router.push('/services');\n        }\n      }\n    },\n    async show_service(id) {\n      const new_id = parseInt(id);\n      const response = await this.$apollo.query({\n        query: require('@/graphql/AdminServiceFind.gql'),\n        variables: { \"id\": new_id }\n      });\n      this.services.id = response.data.serviceAdmin[0].id;\n      this.services.name = response.data.serviceAdmin[0].name;\n      this.services.price = response.data.serviceAdmin[0].price;\n      this.services.image = response.data.serviceAdmin[0].image;\n      this.services.description = response.data.serviceAdmin[0].description;\n      this.services.service_categories = response.data.serviceAdmin[0].serviceCategories;\n      this.services.service_category = response.data.serviceAdmin[0].serviceCategoryId.name;\n    },\n    async show_time_slot_one(id) {\n      const new_id = parseInt(id);\n      const response = await this.$apollo.query({\n        query: require('@/graphql/TimeSlotOne.gql'),\n        variables: { \"id\": new_id }\n      });\n      // FIXME: timeslot when edit button clicks appears wrong info\n      console.log('time slot to edit is: ', response)\n      this.time_slot_one.id = response.data.timeSlotOne.id;\n      this.time_slot_one.capacity = response.data.timeSlotOne.capacity\n      this.time_slot_one.start_date = response.data.timeSlotOne.startDate;\n      this.time_slot_one.end_date = response.data.timeSlotOne.endDate;\n      this.time_slot_one.end_time = this.formattedStartTime(response.data.timeSlotOne.endTime);\n      this.time_slot_one.start_time = this.formattedStartTime(response.data.timeSlotOne.startTime);\n    },\n    async show_time_slot_by_service(id) {\n      const new_id = parseInt(id);\n      const response = await this.$apollo.query({\n        query: require('@/graphql/TimeSlotByService.gql'),\n        variables: { \"id\": new_id }\n      });\n\n      this.time_slot = response.data.timeSlotByService\n      console.log('TS BY SERVICE', this.time_slot)\n    },\n    reloadPage() {\n      // Reload the current page\n      window.location.reload();\n    },\n    formattedLongTime(time) {\n      // Parse the input time string into a Date object\n      const inputTime = new Date(`2000-01-01T${time}`);\n      \n      // Calculate the UTC equivalent time\n      const utcTime = new Date(inputTime.getTime() - inputTime.getTimezoneOffset() * 60000);\n\n      // Format the UTC time as \"YYYY-MM-DD HH:mm:ss UTC\"\n      const formattedDatetime = utcTime.toISOString().replace('T', ' ').replace(/\\.\\d+Z$/, ' UTC');\n\n      return formattedDatetime;\n    },\n    formattedStartTime(time) {\n      // Remove \"UTC\" from the end of the input datetime string\n      const timeWithoutUTC = time.replace(' UTC', '');\n\n      // Parse the datetime string into a Date object\n      const dateObj = new Date(timeWithoutUTC);\n\n      // Extract the hour, minute, and second parts\n      const hour = dateObj.getHours();\n      const minute = dateObj.getMinutes();\n      const second = dateObj.getSeconds();\n\n      // Format the hour, minute, and second as \"HH:MM:SS\"\n      const formattedHour = hour.toString().padStart(2, '0');\n      const formattedMinute = minute.toString().padStart(2, '0');\n      const formattedSecond = second.toString().padStart(2, '0');\n\n      return `${formattedHour}:${formattedMinute}:${formattedSecond}`;\n    }\n  },\n  mounted() {\n    this.show_service(this.id_to_edit);\n    this.show_time_slot_by_service(this.id_to_edit);\n    this.upload();\n  }\n}\n</script>\n\n<style>\n.cloudinary-button {\n    background-color: #007bff;\n    color: white;\n    padding: 10px 20px;\n    border: none;\n    cursor: pointer;\n}\n.cloudinary-button:hover {\n    background-color: #0056b3;\n}\n/* Style the uploaded image */\n.uploaded-image {\n    max-width: 100%;\n    height: auto;\n    margin-top: 10px;\n    border: 1px solid #ccc;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n.link_text {\n    display: inline-block;\n}\n.form-service-edit {\n  display: inline-block;\n}\n.edit-time {\n  margin-top: -390px;\n}\n.error, .error:focus {\n    border-color: red;\n    color: red;\n}\n.input-errors {\n    color: red;\n}\n.form-label {\n    position: relative;\n}\n.error-msg {\n    position: absolute;\n    font-size: 10px;\n    bottom: -13px;\n    left: 0px;\n}\n</style>\n"]}]}