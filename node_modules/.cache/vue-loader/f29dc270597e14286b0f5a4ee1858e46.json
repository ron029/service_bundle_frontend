{"remainingRequest":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!/home/bonifacio/code/service_bundle_frontend/src/components/CartPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bonifacio/code/service_bundle_frontend/src/components/CartPage.vue","mtime":1696826603034},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/babel-loader/lib/index.js","mtime":1692833949708},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1692838039149},{"path":"/home/bonifacio/code/service_bundle_frontend/node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js","mtime":1692833961693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVzZVZ1ZWxpZGF0ZSB9IGZyb20gJ0B2dWVsaWRhdGUvY29yZSc7CmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCwgaGVscGVycywgbnVtZXJpYywgfSBmcm9tICdAdnVlbGlkYXRlL3ZhbGlkYXRvcnMnOwpjb25zdCBmaWVsZHMgPSB7CiAgICBwYWdlMTogW10sCiAgICBwYWdlMjogWydmaXJzdF9uYW1lJywgJ2xhc3RfbmFtZScsICdjb250YWN0X251bWJlcicsICdlbWFpbCcsICdwYXltZW50X29wdGlvbicsICd0ZXJtcyddLAp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDYXJ0UGFnZScsCiAgY29tcG9uZW50czogewoKICB9LAogIHNldHVwICgpIHsgcmV0dXJuIHsgdiQ6IHVzZVZ1ZWxpZGF0ZSgpIH0gfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydDogewogICAgICAgIGZpcnN0X25hbWU6ICcnLAogICAgICAgIGxhc3RfbmFtZTogJycsCiAgICAgICAgY29udGFjdF9udW1iZXI6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXltZW50X29wdGlvbjogJycKICAgICAgfSwKICAgICAgdG90YWxfcHJpY2U6IDAsCiAgICAgIHRlcm1zOiBmYWxzZSwKICAgICAgY2FydF9jb250ZW50OiBbXSwKICAgICAgc3RlcHM6IHt9LAogICAgICBzdGVwOiAxLAogICAgICBoYXNTZWVuQ29uZ3JhdHM6IGZhbHNlLAogICAgfQogIH0sCiAgdmFsaWRhdGlvbnMgKCkgewogICAgY29uc3QgYWxwaGFiZXRpY1dpdGhTcGFjZXMgPSB2YWx1ZSA9PiAvXlthLXpBLVpcc10qJC8udGVzdCh2YWx1ZSk7CiAgICByZXR1cm4gewogICAgICBjYXJ0OiB7CiAgICAgICAgZmlyc3RfbmFtZTogewogICAgICAgICAgcmVxdWlyZWQ6IGhlbHBlcnMud2l0aE1lc3NhZ2UoJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJywgcmVxdWlyZWQpLAogICAgICAgICAgYWxwaGFiZXRpY1dpdGhTcGFjZXM6IGhlbHBlcnMud2l0aE1lc3NhZ2UoJ0ZpcnN0IE5hbWUgY2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzIGFuZCBzcGFjZXMuJywgYWxwaGFiZXRpY1dpdGhTcGFjZXMpLAogICAgICAgIH0sCiAgICAgICAgbGFzdF9uYW1lOiB7CiAgICAgICAgICByZXF1aXJlZDogaGVscGVycy53aXRoTWVzc2FnZSgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicsIHJlcXVpcmVkKSwKICAgICAgICAgIGFscGhhYmV0aWNXaXRoU3BhY2VzOiBoZWxwZXJzLndpdGhNZXNzYWdlKCdMYXN0IE5hbWUgY2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzIGFuZCBzcGFjZXMuJywgYWxwaGFiZXRpY1dpdGhTcGFjZXMpLAogICAgICAgIH0sCiAgICAgICAgY29udGFjdF9udW1iZXI6IHsgcmVxdWlyZWQ6IGhlbHBlcnMud2l0aE1lc3NhZ2UoJ0NvbnRhY3QgTnVtYmVyIGlzIHJlcXVpcmVkLicsIHJlcXVpcmVkKSwgbnVtZXJpYyB9LAogICAgICAgIGVtYWlsOiB7IHJlcXVpcmVkOiBoZWxwZXJzLndpdGhNZXNzYWdlKCdFbWFpbCBBZGRyZXNzIGlzIHJlcXVpcmVkLicsIHJlcXVpcmVkKSwgZW1haWwgfSwKICAgICAgICBwYXltZW50X29wdGlvbjoge3JlcXVpcmVkOiBoZWxwZXJzLndpdGhNZXNzYWdlKCdQYXltZW50IE9wdGlvbiBpcyByZXF1aXJlZC4nLCByZXF1aXJlZCl9LAogICAgICB9LAogICAgICB0ZXJtczogeyBpc0NoZWNrZWQ6IHZhbHVlID0+IHZhbHVlID09PSB0cnVlLCB9LAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0VG9QSFAobnVtYmVyKSB7CiAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciB0byBhIHN0cmluZyB3aXRoIHR3byBkZWNpbWFsIHBsYWNlcwogICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBOdW1iZXIobnVtYmVyKS50b0ZpeGVkKDIpOwoKICAgICAgLy8gQWRkICJQSFAgIiB0byB0aGUgZm9ybWF0dGVkIG51bWJlciBhbmQgdXNlIGNvbW1hcyBhcyBhIHRob3VzYW5kcyBzZXBhcmF0b3IKICAgICAgY29uc3QgcmVzdWx0ID0gYFBIUCAke2Zvcm1hdHRlZE51bWJlci5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAnLCAnKX1gOwoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBmb3JtYXREYXRlKGlucHV0RGF0ZSkgewogICAgICBjb25zdCBvcHRpb25zID0geyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnIH07CiAgICAgIHJldHVybiBuZXcgRGF0ZShpbnB1dERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZyh1bmRlZmluZWQsIG9wdGlvbnMpOwogICAgfSwKICAgIGNvbnZlcnRUaW1lVG9BTVBNKHRpbWVTdHJpbmcpIHsKICAgICAgY29uc3QgZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aW1lU3RyaW5nKTsKICAgICAgY29uc3QgaG91cnMgPSBkYXRlVGltZS5nZXRVVENIb3VycygpOwogICAgICBjb25zdCBtaW51dGVzID0gZGF0ZVRpbWUuZ2V0VVRDTWludXRlcygpOwogICAgICBjb25zdCBhbXBtID0gaG91cnMgPj0gMTIgPyAnUE0nIDogJ0FNJzsKICAgICAgY29uc3QgZm9ybWF0dGVkSG91cnMgPSBob3VycyAlIDEyIHx8IDEyOyAvLyBDb252ZXJ0IDAgdG8gMTIgZm9yIDEyLWhvdXIgZm9ybWF0CgogICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gYCR7Zm9ybWF0dGVkSG91cnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSAke2FtcG19YDsKCiAgICAgIHJldHVybiBmb3JtYXR0ZWRUaW1lOwogICAgfSwKICAgIGFzeW5jIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMudiQuJHRvdWNoKCk7CiAgICAgIGlmICghdGhpcy52JC4kZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgICAgbXV0YXRpb246IHJlcXVpcmUoJ0AvZ3JhcGhxbC9DYXJ0SGlzdG9yeUNyZWF0ZS5ncWwnKSwKICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgcGF5bWVudE9wdGlvbklkOiB0aGlzLmNhcnQucGF5bWVudF9vcHRpb24sCiAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmNhcnQuZmlyc3RfbmFtZSwKICAgICAgICAgICAgICBsYXN0TmFtZTogdGhpcy5jYXJ0Lmxhc3RfbmFtZSwKICAgICAgICAgICAgICBjb250YWN0TnVtYmVyOiB0aGlzLmNhcnQuY29udGFjdF9udW1iZXIsCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuY2FydC5lbWFpbAogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmNyZWF0ZUNhcnRIaXN0b3J5KQogICAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRoaXMuY2FydF9jb250ZW50ID0gW107CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvY2hlY2tvdXQvJHtyZXNwb25zZS5kYXRhLmNyZWF0ZUNhcnRIaXN0b3J5LmNhcnRIaXN0b3J5LmlkfWApOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjcmVhdGVfY2FydF9pdGVtOicsIGVycm9yKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy52JC4kZXJyb3JzKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgY2FydF9pdGVtcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGFwb2xsby5xdWVyeSh7CiAgICAgICAgICBxdWVyeTogcmVxdWlyZSgnQC9ncmFwaHFsL0NhcnRJdGVtQ2F0ZWdvcnlDdXN0b21lci5ncWwnKSwKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhcnRfY29udGVudCA9IHJlc3BvbnNlLmRhdGEucGVuZGluZzsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FydF9jb250ZW50Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAodGhpcy5jYXJ0X2NvbnRlbnRbaV0uc2VydmljZS5wcmljZSA+IDApIHsgLy8gQ2hlY2sgaWYgdGhlIHN1YmFycmF5IGlzIG5vdCBlbXB0eQogICAgICAgICAgICB0aGlzLnRvdGFsX3ByaWNlICs9IHRoaXMuY2FydF9jb250ZW50W2ldLnNlcnZpY2UucHJpY2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNyZWF0ZV9jYXJ0X2l0ZW06JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgcHJldigpIHsgdGhpcy5zdGVwLS07IH0sCiAgICBmaWVsZF90b192YWxpZGF0ZShmaWVsZHMpIHsKICAgICAgY29uc3QgbGFzdF9zdGVwID0gMgogICAgICBsZXQgZXJyb3IgPSAwOwogICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykgewogICAgICAgICAgdGhpcy52JC5jYXJ0W2ZpZWxkXS4kdG91Y2goKTsKICAgICAgICAgIGlmICh0aGlzLnYkLmNhcnRbZmllbGRdLiRlcnJvcikgZXJyb3IrKzsKICAgICAgfQogICAgICBpZiAoIWVycm9yKSB7CiAgICAgICAgICBpZiAodGhpcy5zdGVwICE9IGxhc3Rfc3RlcCkgdGhpcy5zdGVwKys7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIG5leHQxKCkgewogICAgICB0aGlzLmZpZWxkX3RvX3ZhbGlkYXRlKGZpZWxkcy5wYWdlMSk7CiAgICAgIGlmICh0aGlzLmNhcnRfY29udGVudC5sZW5ndGggPT0gMCkgeyB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOyB9CiAgICB9LAogICAgbmV4dDIoKSB7IHRoaXMuZmllbGRfdG9fdmFsaWRhdGUoZmllbGRzLnBhZ2UyKTsgfSwKICAgIHJlbG9hZFBhZ2UoKSB7CiAgICAgIC8vIFJlbG9hZCB0aGUgY3VycmVudCBwYWdlCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLmNhcnRfaXRlbXMoKQogIH0KfQo="},{"version":3,"sources":["CartPage.vue"],"names":[],"mappings":";AA2MA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div v-if=\"step != 1\">\n      <h1>Checkout</h1>\n      <p class=\"checkout-back\">\n        <button class=\"checkout-back-button\" href=\"#\" @click.prevent=\"prev()\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-left-square-fill\" viewBox=\"0 0 16 16\">\n            <path d=\"M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1z\"/>\n          </svg>  \n          Back\n        </button>\n      </p>\n    </div>\n    <!-- <div class=\"register-stepper\">\n      <div class=\"step\" :class=\"{'step-active' : step === 1, 'step-done': step > 1}\"><span class=\"step-number\">1</span></div>\n      <div class=\"step\" :class=\"{'step-active' : step === 2, 'step-done': step > 2}\"><span class=\"step-number\">2</span></div>\n      <div class=\"step\" :class=\"{'step-active' : step === 3, 'step-done': step > 3}\"><span class=\"step-number\">3</span></div>\n    </div> -->\n    <transition name=\"slide-fade\">\n      <section v-show=\"step === 1\">\n        <!-- Table container -->\n        <div class=\"row\">\n          <div class=\"col-md-8\">\n            <div class=\"cart-title\">\n              <h1 class=\"cart-header\">My Cart</h1>\n              <a href=\"/\">\n                <h2 class=\"cart-nav-continue\">Return to Homepage\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-right-square-fill\" viewBox=\"0 0 16 16\">\n                    <path d=\"M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z\"/>\n                  </svg>\n                </h2>\n              </a>\n            </div>\n            <div v-if=\"cart_content.length > 0\">\n              <div v-for=\"(item, index) in cart_content\" :key=\"index\" class=\"row cart-item\">\n                <div class=\"col-md-4\">\n                  <img :src=\"item.service.image\" :alt=\"item.service.name\" style=\"width: 150px; height: 150px;\">\n                </div>\n                <div class=\"col-md-8\">\n                  <ul class=\"cart-item-info\">\n                    <li>Service Name: {{ item.service.name }}</li>\n                    <li>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-calendar3\" viewBox=\"0 0 16 16\">\n                        <path d=\"M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z\"/>\n                        <path d=\"M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>\n                      </svg>&nbsp;&nbsp;{{ formatDate(item.date) }}\n                    </li>\n                    <li>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clock\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>\n                        <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>\n                      </svg>&nbsp;&nbsp;{{ convertTimeToAMPM(item.time) }}\n                    </li>\n                    <li class=\"price\">Price: <span>{{ formatToPHP(item.service.price) }}</span></li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div v-else class=\"empty-cart\">\n              <img src=\"https://i.imgur.com/dCdflKN.png\" width=\"130\" height=\"130\" class=\"img-fluid mb-4 mr-3 cart-empty-img\">\n              <h3>No Items in your Cart.</h3>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <h2 class=\"summary\">Summary</h2>\n            <hr>\n            <p>Total Price: {{ formatToPHP(total_price) }}</p>\n            <hr>\n            <button :disabled=\"cart_content.length === 0\" class=\"checkout-button\" href=\"#\" @click.prevent=\"next1()\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bag-fill\" viewBox=\"0 1 16 16\">\n                <path d=\"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z\"/>\n              </svg> \n              Checkout\n            </button>\n          </div>\n        </div>\n      </section>\n    </transition>\n    <transition name=\"slide-fade\">\n      <section v-show=\"step === 2\">\n        <form class=\"row\" @submit.prevent=\"submitForm\">\n          <div class=\"col-md-6\">\n            <div class=\"form-container\">\n              <p class=\"header-checkout\">Contact Information</p>\n              <!-- first name -->\n              <div class=\"mb-3 err-card-cart\">\n                <div class=\"row input-field-signup mt-3\">\n                  <div class=\"col-sm-4 col-form-label\">\n                    <div :class=\"{ error: v$.cart.first_name.$errors.length }\">\n                      <label class=\"form-label\" for=\"first_name\">First Name</label>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-8 err-card\">\n                    <input v-model=\"cart.first_name\" class=\"form-control form-control-l\" :class=\"{ error: v$.cart.first_name.$errors.length }\" id=\"first_name\">\n                    <div class=\"input-errors\" v-for=\"error of v$.cart.first_name.$errors\" :key=\"error.$uid\">\n                      <div class=\"error-msg\">{{ error.$message }}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <!-- last name -->\n              <div class=\"mb-3 err-card-cart\">\n                <div class=\"row input-field-signup mt-3\">\n                  <div class=\"col-sm-4 col-form-label\">\n                    <div :class=\"{ error: v$.cart.last_name.$errors.length }\">\n                      <label class=\"form-label\" for=\"last_name\">Last Name</label>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-8 err-card\">\n                    <input v-model=\"cart.last_name\" class=\"form-control form-control-l\" :class=\"{ error: v$.cart.last_name.$errors.length }\" id=\"last_name\">\n                    <div class=\"input-errors\" v-for=\"error of v$.cart.last_name.$errors\" :key=\"error.$uid\">\n                      <div class=\"error-msg\">{{ error.$message }}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <!-- contact number -->\n              <div class=\"mb-3 err-card-cart\">\n                <div class=\"row input-field-signup mt-3\">\n                  <div class=\"col-sm-4 col-form-label\">\n                    <div :class=\"{ error: v$.cart.contact_number.$errors.length }\">\n                      <label class=\"form-label contact_number_cart\" for=\"contact_number\">Contact Number</label>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-8 err-card\">\n                    <input v-model=\"cart.contact_number\" class=\"form-control form-control-l\" :class=\"{ error: v$.cart.contact_number.$errors.length }\" id=\"contact_number\">\n                    <div class=\"input-errors\" v-for=\"error of v$.cart.contact_number.$errors\" :key=\"error.$uid\">\n                      <div class=\"error-msg\">{{ error.$message }}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <!-- email -->\n              <div class=\"mb-3 err-card-cart\">\n                <div class=\"row input-field-signup mt-3\">\n                  <div class=\"col-sm-4 col-form-label\">\n                    <div :class=\"{ error: v$.cart.email.$errors.length }\">\n                      <label class=\"form-label\" for=\"email\">Email Address</label>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-8 err-card\">\n                    <input v-model=\"cart.email\" class=\"form-control form-control-l\" :class=\"{ error: v$.cart.email.$errors.length }\" id=\"email\">\n                    <div class=\"input-errors\" v-for=\"error of v$.cart.email.$errors\" :key=\"error.$uid\">\n                      <div class=\"error-msg\">{{ error.$message }}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-container\">\n              <p class=\"header-checkout\">Payment Method</p>\n              <div class=\"row payment_option_input\">\n                <div class=\"col-sm-4 col-form-label\">\n                  <div :class=\"{ error: v$.cart.payment_option.$errors.length }\">\n                    <label class=\"form-label\" for=\"payment_option\">Payment Option</label>\n                  </div>\n                </div>\n                <div class=\"col-sm-8 err-card\">\n                  <select v-model=\"cart.payment_option\" class=\"form-control form-control-l\" :class=\"{ error: v$.cart.payment_option.$errors.length }\" id=\"payment_option\">\n                    <option value=\"\" disabled selected>-- Select --</option>\n                    <option value=\"1\">Over the Counter</option>\n                    <option value=\"2\">Bank Deposit</option>\n                  </select>\n                  <div class=\"input-errors\" v-for=\"error of v$.cart.payment_option.$errors\" :key=\"error.$uid\">\n                    <div class=\"error-msg\">{{ error.$message }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"form-container checkout-item\">\n              <div v-for=\"(item, index) in cart_content\" :key=\"index\" class=\"row cart-item\">\n                <div class=\"col-md-4\">\n                  <img :src=\"item.service.image\" :alt=\"item.service.name\" style=\"width: 150px; height: 150px;\">\n                </div>\n                <div class=\"col-md-8\">\n                  <ul class=\"cart-item-info\">\n                    <li>Service Name: {{ item.service.name }}</li>\n                    <li>{{ formatDate(item.date) }} @ {{ convertTimeToAMPM(item.time) }}</li>\n                    <li class=\"price\">Price: <span>{{ formatToPHP(item.service.price) }}</span></li>\n                  </ul>\n                </div>\n              </div>\n              <div class=\"total_price\">\n                <p>Total: {{ formatToPHP(total_price) }}</p>\n              </div>\n              <div class=\"form-group\">\n                <div :class=\"{ error: v$.terms.$errors.length }\">\n                  <input type=\"checkbox\" id=\"termsCheckbox\" v-model=\"terms\">\n                  <label class=\"form-label\" for=\"termsCheckbox\">&nbsp;I agree to the terms and conditions</label>\n                </div>\n              </div>\n              <button type=\"submit\" class=\"btn btn-primary btn-lg input-field-signup\" style=\"padding-left: 2.5rem; padding-right: 2.5rem;\">Confirm Reservation</button>\n            </div>\n          </div>\n        </form>\n      </section>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, email, helpers, numeric, } from '@vuelidate/validators';\nconst fields = {\n    page1: [],\n    page2: ['first_name', 'last_name', 'contact_number', 'email', 'payment_option', 'terms'],\n};\n\nexport default {\n  name: 'CartPage',\n  components: {\n\n  },\n  setup () { return { v$: useVuelidate() } },\n  data() {\n    return {\n      cart: {\n        first_name: '',\n        last_name: '',\n        contact_number: '',\n        email: '',\n        payment_option: ''\n      },\n      total_price: 0,\n      terms: false,\n      cart_content: [],\n      steps: {},\n      step: 1,\n      hasSeenCongrats: false,\n    }\n  },\n  validations () {\n    const alphabeticWithSpaces = value => /^[a-zA-Z\\s]*$/.test(value);\n    return {\n      cart: {\n        first_name: {\n          required: helpers.withMessage('First Name is required.', required),\n          alphabeticWithSpaces: helpers.withMessage('First Name can only contain letters and spaces.', alphabeticWithSpaces),\n        },\n        last_name: {\n          required: helpers.withMessage('Last Name is required.', required),\n          alphabeticWithSpaces: helpers.withMessage('Last Name can only contain letters and spaces.', alphabeticWithSpaces),\n        },\n        contact_number: { required: helpers.withMessage('Contact Number is required.', required), numeric },\n        email: { required: helpers.withMessage('Email Address is required.', required), email },\n        payment_option: {required: helpers.withMessage('Payment Option is required.', required)},\n      },\n      terms: { isChecked: value => value === true, },\n    }\n  },\n  methods: {\n    formatToPHP(number) {\n      // Convert the number to a string with two decimal places\n      const formattedNumber = Number(number).toFixed(2);\n\n      // Add \"PHP \" to the formatted number and use commas as a thousands separator\n      const result = `PHP ${formattedNumber.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ', ')}`;\n\n      return result;\n    },\n    formatDate(inputDate) {\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\n      return new Date(inputDate).toLocaleDateString(undefined, options);\n    },\n    convertTimeToAMPM(timeString) {\n      const dateTime = new Date(timeString);\n      const hours = dateTime.getUTCHours();\n      const minutes = dateTime.getUTCMinutes();\n      const ampm = hours >= 12 ? 'PM' : 'AM';\n      const formattedHours = hours % 12 || 12; // Convert 0 to 12 for 12-hour format\n\n      const formattedTime = `${formattedHours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')} ${ampm}`;\n\n      return formattedTime;\n    },\n    async submitForm() {\n      this.v$.$touch();\n      if (!this.v$.$errors.length > 0) {\n        try {\n          const response = await this.$apollo.mutate({\n            mutation: require('@/graphql/CartHistoryCreate.gql'),\n            variables: {\n              paymentOptionId: this.cart.payment_option,\n              firstName: this.cart.first_name,\n              lastName: this.cart.last_name,\n              contactNumber: this.cart.contact_number,\n              email: this.cart.email\n            },\n          });\n          console.log(response.data.createCartHistory)\n          if (response) {\n            this.cart_content = [];\n            this.$router.push(`/checkout/${response.data.createCartHistory.cartHistory.id}`);\n          }\n        } catch (error) {\n          console.error('Error in create_cart_item:', error);\n        }\n      } else {\n        console.log(this.v$.$errors)\n      }\n    },\n    async cart_items() {\n      try {\n        const response = await this.$apollo.query({\n          query: require('@/graphql/CartItemCategoryCustomer.gql'),\n        });\n        this.cart_content = response.data.pending;\n        for (let i = 0; i < this.cart_content.length; i++) {\n          if (this.cart_content[i].service.price > 0) { // Check if the subarray is not empty\n            this.total_price += this.cart_content[i].service.price;\n          }\n        }\n      } catch (error) {\n        console.error('Error in create_cart_item:', error);\n      }\n    },\n    prev() { this.step--; },\n    field_to_validate(fields) {\n      const last_step = 2\n      let error = 0;\n      for (const field of fields) {\n          this.v$.cart[field].$touch();\n          if (this.v$.cart[field].$error) error++;\n      }\n      if (!error) {\n          if (this.step != last_step) this.step++;\n          return true;\n      }\n    },\n    next1() {\n      this.field_to_validate(fields.page1);\n      if (this.cart_content.length == 0) { this.$router.push('/'); }\n    },\n    next2() { this.field_to_validate(fields.page2); },\n    reloadPage() {\n      // Reload the current page\n      window.location.reload();\n    },\n  },\n  mounted(){\n    this.cart_items()\n  }\n}\n</script>\n\n<style>\n.contact_number_cart {\n  white-space: nowrap;\n}\n\n.checkout-table {\n  width: 980px;\n}\n\n.cart-title {\n  position: relative;\n  margin-bottom: 50px;\n}\n\n.cart-header {\n  position: absolute;\n  display: inline-block;\n  left: 0;\n}\n\n.cart-nav-continue {\n  font-size: 20px;\n  color: darkgray;\n  margin-top: 12px;\n  position: absolute;\n  display: inline-block;\n  right: 0;\n}\n\n/* In your CSS file or style block */\n.checkout-button, .checkout-back-button {\n  background-color: #007bff; /* Blue background color */\n  color: #fff; /* White text color */\n  border: none; /* Remove the border */\n  padding: 10px 20px; /* Adjust padding as needed */\n  font-size: 16px; /* Adjust font size as needed */\n  cursor: pointer; /* Show pointer cursor on hover */\n  /* Add more styles as needed */\n}\n\n.checkout-back {\n  text-align: left;\n}\n\n.checkout-button:hover {\n  background-color: #0056b3; /* Darker blue on hover */\n  /* Add more hover styles if desired */\n}\n\n.summary {\n  margin-top: 50px;\n}\n\n.cart-item {\n  margin: 5px 0;\n  border: 1px solid rgb(202, 199, 199);\n  padding: 20px 10px;\n}\n\n.empty-cart {\n  min-height: 400px;\n}\n\n.cart-empty-img {\n  margin-top: 100px;\n}\n\n.cart-item-info {\n  text-align: left;\n  line-height: 35px;\n  list-style-type: none;\n}\n\n.header-checkout {\n  font-weight: bold;\n}\n/* Style the form container */\n.form-container {\n  max-width: 100%; /* Adjust the maximum width as needed */\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.checkout-item {\n  /* box-shadow: 0 0 10px rgba(0, 0, 0); */\n  border: 2px solid #007BFF;\n}\n\n.price {\n  position: relative;\n  font-weight: bold;\n}\n\n.price span {\n  position: absolute;\n  right: 0;\n}\n\n/* Center the text within the form */\n.form-container p {\n  text-align: center;\n}\n\n.total_price {\n  font-size: 30px;\n  padding: 15px 20px 0 0;\n  text-align: right;\n  font-weight: bold;\n  margin: 30px 0;\n  border-top: 1px solid gray;\n  border-bottom: 1px solid gray;\n\n}\n\n.total_price p {\n  display: inline-block;\n}\n\n/* Style form inputs and select */\n.form-control {\n  margin-bottom: 10px;\n}\n\n/* Style the submit button */\n.btn-primary {\n  background-color: #007bff; /* Primary button color */\n  color: #fff;\n  border: none;\n}\n\n/* Style the submit button on hover */\n.btn-primary:hover {\n  background-color: #0056b3; /* Darker shade of primary color */\n}\n\n/* Style the table */\n.table-container {\n  margin-top: 20px; /* Add spacing between form and table */\n}\n\n/* Style table headers */\n.table th {\n  background-color: #007bff;\n  color: #fff;\n}\n\n/* Style table rows */\n.table tbody tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n.error, .error:focus, .error input[type=\"radio\"] {\n  border-color: red;\n  color: red;\n}\n\n.input-errors {\n  color: red;\n}\n\n.err-card-cart {\n  position: relative;\n}\n\n.err-card .form-check {\n  text-align: left;\n}\n\n.error-msg-cart {\n  position: absolute;\n  font-size: 10px;\n  bottom: -12px;\n  left: 5px;\n}\n\n.register-stepper {\n  /* display: none; */\n}\n</style>\n"]}]}