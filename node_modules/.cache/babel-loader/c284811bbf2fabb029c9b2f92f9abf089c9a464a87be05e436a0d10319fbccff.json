{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {};\n  },\n  name: 'MerchantPage',\n  computed: {\n    ...mapState(['isAuthenticated', 'userRole'])\n  },\n  methods: {\n    get_role() {\n      const userRole = localStorage.getItem('userRole');\n      return userRole;\n    },\n    ...mapMutations(['clearAuthentication', 'setAuthenticated']),\n    async logout() {\n      try {\n        await this.$apollo.mutate({\n          mutation: logout\n        });\n        await onLogout(createProvider);\n        this.setAuthenticated(false);\n        this.clearAuthentication();\n        store.commit('clearUserRole');\n        if (this.$route.path !== '/login') this.$router.push('/login');\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    }\n  },\n  mounted() {\n    console.log('the role in navbar is now', this.get_role());\n    console.log('the role is now', this.userRole);\n  }\n};","map":{"version":3,"names":["data","name","computed","mapState","methods","get_role","userRole","localStorage","getItem","mapMutations","logout","$apollo","mutate","mutation","onLogout","createProvider","setAuthenticated","clearAuthentication","store","commit","$route","path","$router","push","error","console","mounted","log"],"sources":["src/views/MerchantPage.vue"],"sourcesContent":["<template>\n  <div class=\"\">\n      <h2>Dashboard</h2>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      \n    }\n  },\n  name: 'MerchantPage',\n  computed: {\n        ...mapState(['isAuthenticated', 'userRole']),\n    },\n    methods: {\n        get_role(){\n            const userRole = localStorage.getItem('userRole');\n            return userRole;\n        },\n        ...mapMutations(['clearAuthentication', 'setAuthenticated']),\n        async logout() {\n            try {\n                await this.$apollo.mutate({\n                    mutation: logout,\n                });\n                await onLogout(createProvider);\n                this.setAuthenticated(false);\n                this.clearAuthentication();\n                store.commit('clearUserRole');\n\n                if (this.$route.path !== '/login') this.$router.push('/login');\n            } catch (error) {\n                console.error('Error logging out:', error);\n            }\n        },\n    },\n  mounted(){\n    console.log('the role in navbar is now', this.get_role())\n    console.log('the role is now', this.userRole)\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"mappings":";AAQA;EACAA,KAAA;IACA,QAEA;EACA;EACAC,IAAA;EACAC,QAAA;IACA,GAAAC,QAAA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,MAAAC,QAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,OAAAF,QAAA;IACA;IACA,GAAAG,YAAA;IACA,MAAAC,OAAA;MACA;QACA,WAAAC,OAAA,CAAAC,MAAA;UACAC,QAAA,EAAAH;QACA;QACA,MAAAI,QAAA,CAAAC,cAAA;QACA,KAAAC,gBAAA;QACA,KAAAC,mBAAA;QACAC,KAAA,CAAAC,MAAA;QAEA,SAAAC,MAAA,CAAAC,IAAA,oBAAAC,OAAA,CAAAC,IAAA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,uBAAAA,KAAA;MACA;IACA;EACA;EACAE,QAAA;IACAD,OAAA,CAAAE,GAAA,mCAAAtB,QAAA;IACAoB,OAAA,CAAAE,GAAA,yBAAArB,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}